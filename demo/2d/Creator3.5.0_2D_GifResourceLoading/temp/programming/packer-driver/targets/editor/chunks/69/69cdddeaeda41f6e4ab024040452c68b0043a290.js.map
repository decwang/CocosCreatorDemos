{"version":3,"sources":["file:///Users/mu/work/gitee/CocosCreatorDemos/demo/2d/Creator3.5.0_2D_GifResourceLoading/assets/GIF/GifSupport.ts"],"names":["_decorator","Component","Node","find","CCGIF","ccclass","property","executeInEditMode","GifSupport","start","active","localGif","children","map","n","getComponent","preload","playAll","forEach","v","stop","play","url","remoteGif","loadUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;AAE/BC,MAAAA,K;;;;;;;OADD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,QAAX;AAAoBC,QAAAA;AAApB,O,GAA0CP,U;;4BAInCQ,U,WADZH,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACJ,IAAD,C,2BAJb,MACaM,UADb,SACgCP,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAMtCQ,QAAAA,KAAK,GAAG;AACJN,UAAAA,IAAI,CAAC,gBAAD,CAAJ,CAAuBO,MAAvB,GAAgC,KAAhC;AAEA,eAAKC,QAAL,CAAcC,QAAd,CAAuBC,GAAvB,CAA2BC,CAAC,IAAI;AAC5BA,YAAAA,CAAC,CAACC,YAAF;AAAA;AAAA,gCAAsBC,OAAtB;AACH,WAFD;AAIAb,UAAAA,IAAI,CAAC,gBAAD,CAAJ,CAAuBO,MAAvB,GAAgC,IAAhC;AACH;;AAEDO,QAAAA,OAAO,GAAG;AACN;AACA,eAAKN,QAAL,CAAcC,QAAd,CAAuBM,OAAvB,CAA+BC,CAAC,IAAI;AAChCA,YAAAA,CAAC,CAACJ,YAAF;AAAA;AAAA,gCAAsBK,IAAtB;AACAD,YAAAA,CAAC,CAACJ,YAAF;AAAA;AAAA,gCAAsBM,IAAtB,CAA2B,IAA3B;AACH,WAHD,EAFM,CAON;;AACA,cAAIC,GAAG,GAAG,mFAAV;AACA,eAAKC,SAAL,CAAeR,YAAf;AAAA;AAAA,8BAAmCS,OAAnC,CAA2CF,GAA3C;AACH;;AA1BqC,O;;;;;iBAEb,I;;;;;;;iBAED,I","sourcesContent":["import { _decorator, Component, Node, find } from 'cc';\nconst { ccclass, property,executeInEditMode } = _decorator;\nimport CCGIF from \"./CCGIF\";\n\n@ccclass('GifSupport')\nexport class GifSupport extends Component {\n    @property(Node)\n    remoteGif: Node | null = null;\n    @property(Node)\n    localGif: Node | null = null;\n\n    start() {\n        find('Canvas/btnPlay').active = false;\n\n        this.localGif.children.map(n => {\n            n.getComponent(CCGIF).preload();\n        });\n\n        find('Canvas/btnPlay').active = true;        \n    }\n\n    playAll() {\n        // 本地Gif加载\n        this.localGif.children.forEach(v => {\n            v.getComponent(CCGIF).stop();\n            v.getComponent(CCGIF).play(true);\n        });\n\n        // 远程Gif加载\n        let url = \"https://n.sinaimg.cn/tech/transform/280/w128h152/20210528/d2fb-kquziih9543861.gif\";\n        this.remoteGif.getComponent(CCGIF).loadUrl(url);\n    }\n}\n\n\n\n"]}