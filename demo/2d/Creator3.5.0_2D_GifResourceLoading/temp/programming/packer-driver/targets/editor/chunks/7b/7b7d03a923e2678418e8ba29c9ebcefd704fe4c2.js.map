{"version":3,"sources":["file:///Users/mu/work/gitee/CocosCreatorDemos/demo/2d/Creator3.5.0_2D_GifResourceLoading/assets/GIF/TestDynamic.ts"],"names":["_decorator","Component","Node","ScrollView","UITransform","Size","view","Layout","dynamicAtlasManager","Layers","Sprite","SpriteFrame","find","Vec3","ccclass","property","maxFrameSize","NewComponent","start","showDebug","isShow","scNode","scCom","addComponent","uiTraCom","getComponent","setContentSize","getVisibleSize","width","height","content","layout","parent","anchorY","resizeMode","ResizeMode","CONTAINER","type","Type","VERTICAL","data","_atlases","length","atlasCount","horizontal","vertical","layer","Enum","PROFILER","index","item","sp","sprFra","texture","_texture","spriteFrame","addChild","setPosition"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, ScrollView, UITransform, Size, view, Layout, dynamicAtlasManager, Layers, Sprite, SpriteFrame, find, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\ndynamicAtlasManager.maxFrameSize = 1024\n/**\n * Predefined variables\n * Name = NewComponent\n * DateTime = Tue Apr 12 2022 14:49:00 GMT+0800 (中国标准时间)\n * Author = Koei\n * FileBasename = NewComponent.ts\n * FileBasenameNoExtension = NewComponent\n * URL = db://assets/NewComponent.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n \n@ccclass('NewComponent')\nexport class NewComponent extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    start () {\n        // [3]\n        this.showDebug(true);\n    }\n\n    showDebug(isShow:any){\n        if(!isShow) return;\n        let scNode = new Node('dynamicAtla');\n        let scCom = scNode.addComponent(ScrollView);\n        let uiTraCom = scNode.getComponent(UITransform);\n        uiTraCom?.setContentSize(new Size(view.getVisibleSize().width,view.getVisibleSize().height));\n        let content = new Node('content');\n        let layout = content.addComponent(Layout);\n        content.parent = scNode;\n        content.getComponent(UITransform)!.anchorY =1;\n        content.getComponent(UITransform)?.setContentSize(new Size(2048,2048));\n        layout.resizeMode = Layout.ResizeMode.CONTAINER;\n        layout.type = Layout.Type.VERTICAL;\n        //@ts-ignore\n        let data = dynamicAtlasManager._atlases;\n        let length = dynamicAtlasManager.atlasCount;\n        scCom.content = content;\n        scCom.horizontal = true;\n        scCom.vertical = true;\n        scNode.layer = Layers.Enum.PROFILER;\n        for (let index = 0; index < length; index++) {\n            let item = new Node('atlas');\n            let sp = item.addComponent(Sprite);\n            item.layer = Layers.Enum.PROFILER;\n            let sprFra = new SpriteFrame();\n            sprFra.texture = data[index]._texture;\n            sp.spriteFrame = sprFra;\n            content.addChild(item);\n        }\n        find('Canvas')?.addChild(scNode);\n        scNode.setPosition(new Vec3(0,0,0))\n    }\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}