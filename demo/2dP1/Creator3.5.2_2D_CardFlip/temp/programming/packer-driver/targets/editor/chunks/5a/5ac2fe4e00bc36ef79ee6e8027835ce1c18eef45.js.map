{"version":3,"sources":["file:///Users/mu/work/gitee/CocosCreatorDemos/demo/2dP1/Creator3.5.2_2D_CardFlip/assets/scripts/ClickToShowResPopup.ts"],"names":["_decorator","Node","Component","DEV","PopupManager","ResPopup","ccclass","property","ResourceInfo","displayName","multiline","ClickToShowResPopup","type","onLoad","registerEvent","onDestroy","unregisterEvent","node","on","EventType","TOUCH_END","onClick","off","options","items","resources","i","l","length","push","name","title","url","params","mode","CacheMode","Frequent","show","path"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;;AAClBC,MAAAA,G,UAAAA,G;;AAGFC,MAAAA,Y;;AACAC,MAAAA,Q;;;;;;;OAHD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;AAI9B;AACA;AACA;8BAGaQ,Y,WADZF,OAAO,CAAC,qBAAD,C,UAEHC,QAAQ,CAAC;AAAEE,QAAAA,WAAW,EAAEN,GAAG,IAAI;AAAtB,OAAD,C,UAERI,QAAQ,CAAC;AAAEG,QAAAA,SAAS,EAAE,IAAb;AAAmBD,QAAAA,WAAW,EAAEN,GAAG,IAAI;AAAvC,OAAD,C,2BAJb,MACaK,YADb,CAC0B;AAAA;AAAA;;AAAA;AAAA;;AAAA,O;;;;;iBAEC,E;;;;;;;iBAEF,E;;;;yBAGJG,mB,YAChBJ,QAAQ,CAAC;AAAEK,QAAAA,IAAI,EAAE,CAACJ,YAAD,CAAR;AAAwBC,QAAAA,WAAW,EAAEN,GAAG,IAAI;AAA5C,OAAD,C,aADE,MAAMQ,mBAAN,SAAkCT,SAAlC,CAA4C;AAAA;AAAA;;AAAA;AAAA;;AAGvD;AACJ;AACA;AACcW,QAAAA,MAAM,GAAG;AACf,eAAKC,aAAL;AACH;AACD;AACJ;AACA;;;AACcC,QAAAA,SAAS,GAAG;AAClB,eAAKC,eAAL;AACH;AACD;AACJ;AACA;;;AACcF,QAAAA,aAAa,GAAG;AACtB,eAAKG,IAAL,CAAUC,EAAV,CAAajB,IAAI,CAACkB,SAAL,CAAeC,SAA5B,EAAuC,KAAKC,OAA5C,EAAqD,IAArD;AACH;AACD;AACJ;AACA;;;AACYL,QAAAA,eAAe,GAAG;AACtB,eAAKC,IAAL,CAAUK,GAAV,CAAcrB,IAAI,CAACkB,SAAL,CAAeC,SAA7B,EAAwC,KAAKC,OAA7C,EAAsD,IAAtD;AACH;AACD;AACJ;AACA;;;AACcA,QAAAA,OAAO,GAAG;AAChB,gBAAME,OAAwB,GAAG;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAAjC;AAAA,gBACAC,SAAS,GAAG,KAAKA,SADjB;;AAEA,eAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,SAAS,CAACG,MAA9B,EAAsCF,CAAC,GAAGC,CAA1C,EAA6CD,CAAC,EAA9C,EAAkD;AAC9CH,YAAAA,OAAO,CAACC,KAAR,CAAcK,IAAd,CAAmB;AACfC,cAAAA,IAAI,EAAEL,SAAS,CAACC,CAAD,CAAT,CAAaK,KADJ;AAEfC,cAAAA,GAAG,EAAEP,SAAS,CAACC,CAAD,CAAT,CAAaM;AAFH,aAAnB;AAIH;;AACD,gBAAMC,MAAM,GAAG;AACXC,YAAAA,IAAI,EAAE;AAAA;AAAA,8CAAaC,SAAb,CAAuBC;AADlB,WAAf;AAGA;AAAA;AAAA,4CAAaC,IAAb,CAAkB;AAAA;AAAA,oCAASC,IAA3B,EAAiCf,OAAjC,EAA0CU,MAA1C;AACH;;AA3CsD,O;;;;;iBAEpB,E","sourcesContent":["import { _decorator, Node, Component } from 'cc';\nimport { DEV } from 'cc/env';\nconst { ccclass, property } = _decorator;\n\nimport PopupManager from \"./PopupManager\";\nimport ResPopup, { ResPopupOptions } from \"./ResPopup\";\n/**\n* 点击展示资源弹窗\n*/\n\n@ccclass('ClickToShowResPopup')\nexport class ResourceInfo {\n    @property({ displayName: DEV && '标题' })\n    public title: string = '';\n    @property({ multiline: true, displayName: DEV && '地址' })\n    public url: string = '';\n}\n\nexport default class ClickToShowResPopup extends Component {\n    @property({ type: [ResourceInfo], displayName: DEV && '资源列表' })\n    public resources: ResourceInfo[] = [];\n    /**\n    * 生命周期：加载\n    */\n    protected onLoad() {\n        this.registerEvent();\n    }\n    /**\n    * 生命周期：销毁\n    */\n    protected onDestroy() {\n        this.unregisterEvent();\n    }\n    /**\n    * 注册事件\n    */\n    protected registerEvent() {\n        this.node.on(Node.EventType.TOUCH_END, this.onClick, this);\n    }\n    /**\n    * 反注册事件\n    */\n    private unregisterEvent() {\n        this.node.off(Node.EventType.TOUCH_END, this.onClick, this);\n    }\n    /**\n    * 点击回调\n    */\n    protected onClick() {\n        const options: ResPopupOptions = { items: [] },\n        resources = this.resources;\n        for (let i = 0, l = resources.length; i < l; i++) {\n            options.items.push({\n                name: resources[i].title,\n                url: resources[i].url,\n            });\n        }\n        const params = {\n            mode: PopupManager.CacheMode.Frequent\n        };\n        PopupManager.show(ResPopup.path, options, params);\n    }\n}\n"]}