{"version":3,"sources":["file:///Users/mu/work/gitee/CocosCreatorDemos/demo/2dP1/Creator3.5.2_2D_CardFlip/assets/scripts/TweenUtil.ts"],"names":["TweenUtil","tween","flip","node","duration","onMiddle","onComplete","Promise","res","t","time","scaleX","scale","x","skewY","parallel","to","easing","call","start"],"mappings":";;;wBAOqBA,S;;;;;;;AADMC,MAAAA,K,OAAAA,K;;;;;;;yBACND,S,GAAN,MAAMA,SAAN,CAAgB;AAC3B;AACJ;AACA;AACA;AACA;AACA;AACA;AACsB,eAAJE,IAAI,CAACC,IAAD,EAAaC,QAAb,EAA+BC,QAA/B,EAAoDC,UAApD,EAA0F;AACxG,iBAAO,IAAIC,OAAJ,CAAkBC,GAAG,IAAI;AAC5B,kBAAMC,CAAC,GAAGR,KAAV;AAAA,kBACAS,IAAI,GAAGN,QAAQ,GAAG,CADlB;AAAA,kBAEAO,MAAM,GAAGR,IAAI,CAACS,KAAL,CAAWC,CAFpB;AAAA,kBAGAC,KAAK,GAAGH,MAAM,GAAG,CAAT,GAAa,EAAb,GAAkB,CAAC,EAH3B;AAIAF,YAAAA,CAAC,CAACN,IAAD,CAAD,CACKY,QADL,CAEQN,CAAC,GAAGO,EAAJ,CAAON,IAAP,EAAa;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAb,EAA4B;AAAEM,cAAAA,MAAM,EAAE;AAAV,aAA5B,CAFR,EAGQR,CAAC,GAAGO,EAAJ,CAAON,IAAP,EAAa;AAAEI,cAAAA,KAAK,EAAE,CAACA;AAAV,aAAb,EAAgC;AAAEG,cAAAA,MAAM,EAAE;AAAV,aAAhC,CAHR,EAKKC,IALL,CAKU,MAAM;AACRb,cAAAA,QAAQ,IAAIA,QAAQ,EAApB;AACH,aAPL,EAQKU,QARL,CASQN,CAAC,GAAGO,EAAJ,CAAON,IAAP,EAAa;AAAEC,cAAAA,MAAM,EAAE,CAACA;AAAX,aAAb,EAAkC;AAAEM,cAAAA,MAAM,EAAE;AAAV,aAAlC,CATR,EAUQR,CAAC,GAAGO,EAAJ,CAAON,IAAP,EAAa;AAAEI,cAAAA,KAAK,EAAE;AAAT,aAAb,EAA2B;AAAEG,cAAAA,MAAM,EAAE;AAAV,aAA3B,CAVR,EAYKC,IAZL,CAYU,MAAM;AACRZ,cAAAA,UAAU,IAAIA,UAAU,EAAxB;AACAE,cAAAA,GAAG;AACN,aAfL,EAgBKW,KAhBL;AAiBH,WAtBM,CAAP;AAuBH;;AAhC0B,O","sourcesContent":["/**\n* Tween 工具\n* @author 陈皮皮 (ifaswind)\n* @version 20210320\n*/\n\nimport { _decorator, Node, tween } from 'cc';\nexport default class TweenUtil {\n    /**\n    * 水平翻转（卡片翻转）\n    * @param node 节点\n    * @param duration 总时长\n    * @param onMiddle 中间状态回调\n    * @param onComplete 完成回调\n    */\n    public static flip(node: Node, duration: number, onMiddle?: Function, onComplete?: Function): Promise<void> {\n        return new Promise<void>(res => {\n            const t = tween,\n            time = duration / 2,\n            scaleX = node.scale.x,\n            skewY = scaleX > 0 ? 20 : -20;\n            t(node)\n                .parallel(\n                    t().to(time, { scaleX: 0 }, { easing: 'quadIn' }),\n                    t().to(time, { skewY: -skewY }, { easing: 'quadOut' }),\n                )\n                .call(() => {\n                    onMiddle && onMiddle();\n                })\n                .parallel(\n                    t().to(time, { scaleX: -scaleX }, { easing: 'quadOut' }),\n                    t().to(time, { skewY: 0 }, { easing: 'quadIn' }),\n                )\n                .call(() => {\n                    onComplete && onComplete();\n                    res();\n                })\n                .start();\n        });\n    }\n}\n"]}