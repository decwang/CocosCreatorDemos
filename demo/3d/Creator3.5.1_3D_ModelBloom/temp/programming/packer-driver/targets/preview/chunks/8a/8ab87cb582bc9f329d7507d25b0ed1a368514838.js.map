{"version":3,"sources":["file:///Users/mu/work/gitee/CocosCreatorDemos/demo/3d/Creator3.5.1_3D_ModelBloom/assets/scripts/bloom.ts"],"names":["_decorator","Component","PPMgr","PPThresholdStage","PPBlurXStage","PPBlurYStage","PPMergeStage","ccclass","property","Bloom","start","mgr","registerCreateStage","stageDesc","stage","stageName","mat","init"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AAEZC,MAAAA,K,iBAAAA,K;;AACAC,MAAAA,gB,iBAAAA,gB;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;uBAGjBS,K,WADZF,OAAO,CAAC,OAAD,C,UAGHC,QAAQ;AAAA;AAAA,yB,2BAHb,MACaC,KADb,SAC2BR,SAD3B,CACqC;AAAA;AAAA;;AAAA;AAAA;;AAKjCS,QAAAA,KAAK,GAAI;AAAA;;AACL,4BAAKC,GAAL,+BAAUC,mBAAV,CAA8BC,SAAS,IAAI;AACvC,gBAAIC,KAA0B,GAAG,IAAjC;;AACA,gBAAI,sBAAsBD,SAAS,CAACE,SAApC,EAA+C;AAC3CD,cAAAA,KAAK,GAAG;AAAA;AAAA,yDAAR;AACH,aAFD,MAEO,IAAI,kBAAkBD,SAAS,CAACE,SAAhC,EAA2C;AAC9CD,cAAAA,KAAK,GAAG;AAAA;AAAA,iDAAR;AACH,aAFM,MAEA,IAAI,kBAAkBD,SAAS,CAACE,SAAhC,EAA2C;AAC9CD,cAAAA,KAAK,GAAG;AAAA;AAAA,iDAAR;AACH,aAFM,MAEA,IAAI,kBAAkBD,SAAS,CAACE,SAAhC,EAA2C;AAC9CD,cAAAA,KAAK,GAAG;AAAA;AAAA,iDAAR;AACH;;AAED,gBAAIA,KAAJ,EAAW;AACPA,cAAAA,KAAK,CAACE,GAAN,GAAYH,SAAS,CAACG,GAAtB;AACH;;AAED,mBAAOF,KAAP;AACH,WAjBD;AAkBA,6BAAKH,GAAL,gCAAUM,IAAV;AACH;;AAzBgC,O;;;;;iBAGf,I","sourcesContent":["\r\nimport { _decorator, Component, Node } from 'cc';\r\nimport { PPBaseStage } from './PPBaseStage';\r\nimport { PPMgr } from './PPMgr';\r\nimport { PPThresholdStage } from './stage/PPThresholdStage';\r\nimport { PPBlurXStage } from './stage/PPBlurXStage';\r\nimport { PPBlurYStage } from './stage/PPBlurYStage';\r\nimport { PPMergeStage } from './stage/PPMergeStage';\r\nconst { ccclass, property } = _decorator;\r\n \r\n@ccclass('Bloom')\r\nexport class Bloom extends Component {\r\n\r\n    @property(PPMgr)\r\n    mgr: PPMgr|null = null;\r\n\r\n    start () {\r\n        this.mgr?.registerCreateStage(stageDesc => {\r\n            let stage : PPBaseStage | null = null;\r\n            if ('PPThresholdStage' == stageDesc.stageName) {\r\n                stage = new PPThresholdStage();\r\n            } else if ('PPBlurXStage' == stageDesc.stageName) {\r\n                stage = new PPBlurXStage();\r\n            } else if ('PPBlurYStage' == stageDesc.stageName) {\r\n                stage = new PPBlurYStage();\r\n            } else if ('PPMergeStage' == stageDesc.stageName) {\r\n                stage = new PPMergeStage();\r\n            }\r\n\r\n            if (stage) {\r\n                stage.mat = stageDesc.mat;\r\n            }\r\n\r\n            return stage;\r\n        });\r\n        this.mgr?.init();\r\n    }\r\n\r\n}\r\n"]}